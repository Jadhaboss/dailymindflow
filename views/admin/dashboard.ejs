<div class="admin-actions reveal">
    <h1>All Posts</h1>
    <div style="display: flex; gap: 10px;">
        <a href="/admin/categories" class="btn"
            style="background: var(--surface-2); border: 1px solid var(--border-color); color: var(--text-color); display: inline-flex; align-items: center; gap: 8px;">
            <i class="fas fa-tags"></i> Categories
        </a>
        <a href="/admin/add-post" class="btn-primary"
            style="text-decoration: none; display: inline-flex; align-items: center; gap: 8px;">
            <i class="fas fa-plus"></i> Create New Post
        </a>
    </div>
</div>

<div class="post-list reveal"
    style="background: var(--surface-1); border-radius: 16px; border: 1px solid var(--border-color); overflow: hidden; box-shadow: var(--shadow-sm);">
    <% if(posts && posts.length> 0) { %>
        <div class="table-responsive">
            <table style="width: 100%; border-collapse: collapse; min-width: 600px;">
                <thead style="background: var(--surface-2); border-bottom: 1px solid var(--border-color);">
                    <tr>
                        <th
                            style="padding: 16px 24px; text-align: left; font-weight: 600; color: var(--text-secondary);">
                            Title</th>
                        <th
                            style="padding: 16px 24px; text-align: left; font-weight: 600; color: var(--text-secondary);">
                            Published Date</th>
                        <th
                            style="padding: 16px 24px; text-align: right; font-weight: 600; color: var(--text-secondary);">
                            Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% posts.forEach(post=> { %>
                        <tr style="border-bottom: 1px solid var(--border-color); transition: background 0.2s;">
                            <td style="padding: 16px 24px; font-weight: 500;">
                                <%= post.title %>
                            </td>
                            <td style="padding: 16px 24px; color: var(--text-secondary);">
                                <%= new Date(post.createdAt).toLocaleDateString(undefined, { year: 'numeric' ,
                                    month: 'long' , day: 'numeric' }) %>
                            </td>
                            <td style="padding: 16px 24px; text-align: right;">
                                <div style="display: inline-flex; gap: 8px;">
                                    <a href="/admin/edit-post/<%= post._id %>" class="btn"
                                        style="background: var(--surface-2); color: var(--text-color); padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; border: 1px solid var(--border-color); display: inline-flex; align-items: center; gap: 6px;">
                                        <i class="fas fa-edit"></i> Edit
                                    </a>

                                    <form action="/admin/delete-post/<%= post._id %>?_method=DELETE" method="POST"
                                        style="display:inline;"
                                        onsubmit="return confirm('Are you sure you want to delete this post?');">
                                        <button type="submit" class="btn"
                                            style="background: rgba(255, 77, 77, 0.1); color: #ff4d4d; padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; border: 1px solid rgba(255, 77, 77, 0.2); cursor: pointer; display: inline-flex; align-items: center; gap: 6px;">
                                            <i class="fas fa-trash-alt"></i> Delete
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                        <% }) %>
                </tbody>
            </table>
        </div>
        <% } else { %>
            <div style="padding: 60px; text-align: center;">
                <i class="fas fa-folder-open"
                    style="font-size: 3rem; color: var(--border-color); margin-bottom: 16px;"></i>
                <p style="color: var(--text-secondary); font-size: 1.1rem;">No posts found yet.</p>
                <a href="/admin/add-post"
                    style="color: var(--accent-color); font-weight: 500; margin-top: 8px; display: inline-block;">Write
                    your first post &rarr;</a>
            </div>
            <% } %>
</div>